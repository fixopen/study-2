<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu Settings</title>
</head>

<script type="text/javascript" src="../jquery/jquery.min.js"></script>
<body>
<ol>
    <li>公告</li>
    <li>
        学习
        <ol>
            <li>直播课</li>
            <li>语文</li>
            <li>数学</li>
            <li>英语</li>
        </ol>
    </li>
    <li data-id="user">我的</li>
</ol>
<input type="text" id="content"/>
<input type="button" id="save" value="save"/>
<script>
    let menus = {
        "button": [
            {
                "type": "view",
                "name": "公告",
                //"url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000048&idx=1&sn=6619a67d545fa282c2137dbdb8fb80b2&scene=18#wechat_redirect",
                "url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000186&idx=1&sn=d91b84c128f83960693908a7e074a16f&chksm=6b678b195c10020fe66909a95d662ebdf60f97deb23dbbbc54367ed197c3104512742703bbe7#rd",
                "sub_button": []
                /*
                "type": "news",
                "name": "公告",
                "value": "W7gd_bLikoFdTDZwV5x3n5EhWB_1Jaon34k7IO1nWfI",
                "news_info": {
                    "list": [
                        {
                            "title": "小雨直播第一周课程表（以此为准）",
                            "author": "",
                            "digest": "小雨直播第一周的上课时间以此课程表为准。请提前做好上课准备，谢谢！每周的课表以微信公众号的信息为准，请大家关注。",
                            "show_cover": 0,
                            "cover_url": "http://mmbiz.qpic.cn/mmbiz_jpg/wGkCiakQ4RjODzQGZ15y0IQkpcraUFvplibnBicPOSzGUelcZibOq8AZbhgrELP79M4icGBPLiaGzfn6BB0cibtzZb50g/0?wx_fmt=jpeg",
                            "content_url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000186&idx=1&sn=d91b84c128f83960693908a7e074a16f&chksm=6b678b195c10020fe66909a95d662ebdf60f3fc4985a14d9caa5ee2c97c3104512742703bbe7#rd",
                            "source_url": ""
                        }
                    ]
                }
                */
            },
            {
                "name": "学习",
                "sub_button": [
                    /*
                    {
                        "type": "view",
                        "name": "直播课堂1",
                        "url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000191&idx=1&sn=98fee9a77f250b0e387aff2fe22055a7&chksm=6b678b1c5c10020a818961d41f49c3763bfab62324e268f9fd3cae5520335b7a4be7b83936af&scene=18#wechat_redirect"
                        "type": "news",
                        "name": "直播课堂1",
                        "value": "W7gd_bLikoFdTDZwV5x3nz6-bjmVukf1r9xbbXrgDd4",
                        "news_info": {
                            "list": [
                                {
                                    "title": "直播课堂1—需要换位思考的位置关系",
                                    "author": "",
                                    "digest": "范炜炜，北京化工大学生命科学与技术学院硕士曾获得“北京市三好学生”等荣誉称号。有8年教学经验，在迎春杯、华杯等杯赛中，多位学生获得一、二等奖，还有几位同学进入了集训队和龙校学习。",
                                    "show_cover": 0,
                                    "cover_url": "http://mmbiz.qpic.cn/mmbiz_jpg/wGkCiakQ4RjODzQGZ15y0IQkpcraUFvpl6XhQqAgy3unzyxMbibpw4BmiczJQBRmJaqzYYZUsDHrDn053ZEGTOPmQ/0?wx_fmt=jpeg",
                                    "content_url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000191&idx=1&sn=98fee9a77f250b0e387aff2fe22055a7&chksm=6b678b1c5c10020a818961d41f49c3763bfab62324e268f9fd3cae5520335b7a4be7b83936af#rd",
                                    "source_url": "http://www.ainemo.com/live/v/ff8080815766f8190157ad4e9d652ae2"
                                }
                            ]

                        }
                    },
                    */
                    /*
                    {
                        "type": "view",
                        "name": "直播课堂2",
                        "url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000192&idx=1&sn=edb3a6816c9c0e7bf9a5ca7e9e7ffbff&chksm=6b678b635c100275bf4fe9bded6f220735e152e985b0eb230ed3a4d699cb19a3849d33e27a99#rd"
                        "type": "news",
                        "name": "直播课堂2",
                        "value": "W7gd_bLikoFdTDZwV5x3n_egraNvn6rkrVSrMQBBIfc",
                        "news_info": {
                            "list": [
                                {
                                    "title": "直播课堂2—空瓶子换饮料",
                                    "author": "",
                                    "digest": "范炜炜，北京化工大学生命科学与技术学院硕士曾获得“北京市三好学生”等荣誉称号。有8年教学经验，在迎春杯、华杯等杯赛中，多位学生获得一、二等奖，还有几位同学进入了集训队和龙校学习。",
                                    "show_cover": 0,
                                    "cover_url": "http://mmbiz.qpic.cn/mmbiz_jpg/wGkCiakQ4RjODzQGZ15y0IQkpcraUFvpl6XhQqAgy3unzyxMbibpw4BmiczJQBRmJaqzYYZUsDHrDn053ZEGTOPmQ/0?wx_fmt=jpeg",
                                    "content_url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000192&idx=1&sn=edb3a6816c9c0e7bf9a5ca7e9e7ffbff&chksm=6b678b635c100275bf4fe9bded6f220735e152e985b0eb230ed3a4d699cb19a3849d33e27a99#rd",
                                    "source_url": "http://www.ainemo.com/live/v/ff8080815766f8190157ad5109712afe"
                                }
                            ]
                        }
                    },
                    */
                    {
                        "type": "view",
                        "name": "直播",
                        "url": "http://www.ainemo.com/live/v/ff8080815766f8190157c10847e11202"
                        /*"url": "http://www.ainemo.com/live/v/ff8080815766f8190157bba94cc72a6d"*/
                        /*"url": "http://www.ainemo.com/live/v/ff8080815766f8190157b68adbbe6787"*/
                        /*"url": "http://www.ainemo.com/live/v/ff8080815766f8190157b15d9a2a3d5b"*/
                    },
                    {
                        "type": "view",
                        "name": "语文",
                        "url": "http://www.xiaoyuzhishi.com/chineseVolume.html"
                    },
                    {
                        "type": "view",
                        "name": "数学",
                        "url": "http://www.xiaoyuzhishi.com/mathVolume.html"
                    },
                    {
                        "type": "view",
                        "name": "英语",
                        "url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000065&idx=1&sn=4e3665c3275be52e4ad84e314031fc90&scene=18#wechat_redirect"
                    }
                ]
            },
            {
                "name": "我的",
                "sub_button": [
                    {
                        "type": "view",
                        "name": "填加卡号",
                        "url": "https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx92dec5e98645bd1d&redirect_uri=http%3A%2F%2Fwww.xiaoyuzhishi.com%2Fapi%2Fpublic-account%2Fcard&response_type=code&scope=snsapi_userinfo&state=test#wechat_redirect"
                        /*"url": "http://www.xiaoyuzhishi.com/api/public-account/card"*/
                    },
                    /*
                    {
                        "type": "click",
                        "name": "填加卡号",
                        "key": "ID_ACTIVE"
                    },
                    */
                    {
                        "type": "view",
                        "name": "我的账号",
                        "url": "https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx92dec5e98645bd1d&redirect_uri=http%3A%2F%2Fwww.xiaoyuzhishi.com%2Fapi%2Fpublic-account%2Faccount&response_type=code&scope=snsapi_userinfo&state=test#wechat_redirect"
                        /*"url": "http://www.xiaoyuzhishi.com/api/public-account/account"*/
                        /*"url": "http://mp.weixin.qq.com/s?__biz=MzI3NzQwNTY0NA==&mid=100000081&idx=1&sn=3e9297750d8c748b2ab91c053f9b1670&scene=18#wechat_redirect"*/
                    }
                ]
            }
        ]
    }

    let currentMenu
    let save = document.getElementById('save')
    save.addEventListener('click', function (e) {
        $.ajax({
            url: "/api/public-account/custom-menu",
            type: 'post',
            data: JSON.stringify(menus),
            dataType: 'json',
            contentType: "application/json",
            async: true,
            success: function (r) {
                alert('success')
            },
            error: function (r) {
                alert('error')
            }
        })
    })
</script>
</body>
</html>
