<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>小雨知时</title>
    <script src="jquery/jquery-3.1.1.js"></script>
</head>

<body>
<!--
<img src="jian.png" style="width: 100%"/>
<audio src="Episode - Boost 2.0 with Robert Ramey.mp3" autoplay controls></audio>
<audio src="Episode - Boost 2.0 with Robert Ramey.mp3#t=230,250" autoplay controls></audio>
<audio src="Jack%20Jack%20what%20do%20you%20see.mp3#t=10,20" autoplay controls></audio>
-->
<input id="username"/>
<input id="password"/>
<button id="submit">提交</button>
</body>
<script>
   var a = document.getElementById("submit");
    a.addEventListener('click',function (e) {
        var browser = {
            versions: function () {
                var u = navigator.userAgent, app = navigator.appVersion;
               /* if(browser.mobile == true){
                    if(browser.ios == true){
                        browser.ios = ios
                    }
                    if(browser.android == true){
                        browser.android = android
                    }
                    if(browser.iPhone == true){
                        browser.iPhone = iPhone
                    }
                    if(browser.iPad == true){
                        browser.iPad = iPad
                    }
                }else{
                    if(browser.trident == true){
                        browser.trident = trident
                    }
                }*/
                return {//移动终端浏览器版本信息
                    trident: u.indexOf('Trident') > -1, //IE内核
                    presto: u.indexOf('Presto') > -1, //opera内核
                    webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
                    gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
                    mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
                    ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
                    android: u.indexOf('Android') > -1, //android终端
                    iPhone: u.indexOf('iPhone') > -1, //是否为iPhone
                    iPad: u.indexOf('iPad') > -1, //是否iPad
                    //webApp: u.indexOf('Safari') == -1 //是否web应该程序，没有头部与底部
                };
            } (),
           // language: (navigator.browserLanguage || navigator.language).toLowerCase()
        }
alert(JSON.stringify(browser))


        var loginInfo = {
            info:$("#username").val(),
            key:$("#password").val(),
            type:"name",
            deviceType:browser.versions,
            deviceNo:"1111",
        }
        $.ajax({
            type:"PUT",
            url:"/api/sessions",
            data:JSON.stringify(loginInfo),
            dataType:"json",
            contentType: "application/json; charset=utf-8",
            success:function (a) {
                alert("登录成功")
            },
            error:function (e) {
                alert(JSON.stringify(e))
            }
        })
    })


</script>
</html>