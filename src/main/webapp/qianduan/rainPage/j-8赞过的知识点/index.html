<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>z-直播课</title>
	<!-- 禁止拉伸和全屏设置 -->
  	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" id="viewport" />
    <meta name="format-detection" content="telphone=no" />

    <!-- 引入样式表 -->
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="css/index.css">

    <!-- 引入js -->
    <script type="text/javascript" src="../../js/zepto.min.js"></script>
    <script type="text/javascript" src="../../js/touch.js"></script>
    <script type="text/javascript" src="../../js/selector.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="../../js/basic.js"></script>


</head>
<body>
	<div class="wrap">
		<!-- main -->
		<div class="rain-main">
			<div class="seen-video">
				<img src="images/topic.png" alt="">
			</div>
			<!-- subject-tab -->
			<ul class="subject-tab-box">
				<li class="subject-tab-li cur zb-cur">
					语文
					<span class="zb-video"></span>
				</li>
				<li class="subject-tab-li zb-cur">
					数学
					<span class="zb-video"></span>
				</li>
				<li class="subject-tab-li">
					英语
				</li>
			</ul>
			<div class="main-text">
				<ul class="subject-list" id="chinese"></ul>
                <ul class="subject-list" id="math" style="display:none "></ul>
                <ul class="subject-list" id="english" style="display:none "></ul>
			</div>
		</div>
	</div>
    <template id="learned-template">
        <li class="neir_li">
            <div class="neir_lidiv">
                <a class="neir_pzi" href="#">${name}</a>
            </div>
            <div class="neir_ridiv">
                <a class="neir_read" href="#">阅读<span class="read_shul">${readCount}</span></a>
                <a class="neir_dianz" href="#"><span class="read_shul">${likeCount}</span></a>
            </div>
            <img src="images/fenjie.png" alt="">
        </li>
    </template>
	<script type="text/javascript">
        $(function () {
			let subjects = []

			$.get('api/subjects', function(ss) {
				subjects = ss
				for (let i = 0; i < subjects.length; ++i) {

					let filter = {
						subjectId: subjects[i].id,
						grade: 20
					}
					$.get('api/volumes?filter=' + JSON.stringify(filter), function(vs) {
						subjects[i].low = vs
					})
					filter.grade = 21;
					$.get('api/volumes?filter=' + JSON.stringify(filter), function(vs) {
						subjects[i].high = vs
					})
				}
			})

			let data={
                chineseInfo:[
                    {
                        name:'发你防护你GV啊幅度压缩打包',
                        readCount:'4657',
                        likeCount:'954'
                    },
                    {
                        name:'大本 政府代表vrfgvbauy',
                        readCount:'52',
                        likeCount:'9075'
                    },
                    {
                        name:'化工设备是否更好呢',
                        readCount:'53657',
                        likeCount:'907'
                    },
                    {
                        name:'会让肌肤嘚瑟',
                        readCount:'857846',
                        likeCount:'-7684'
                    },
                    {
                        name:'看门狗没看到',
                        readCount:'734568',
                        likeCount:'096'
                    }
                ],
                mathInfo:[
                    {
                    name:'符合你把浴巾已经遇见你',
                    readCount:'78769',
                    likeCount:'897954'
                    },
                    {
                        name:'国家的一天就会',
                        readCount:'6258',
                        likeCount:'907'
                    },
                    {
                        name:'伏特加的一款对你好的',
                        readCount:'67698',
                        likeCount:'568975'
                    }
                ],
                englishInfo:[
                    {
                        name:'UI欲哭查看附件',
                        readCount:'8573',
                        likeCount:'2453'
                     },
                    {
                        name:'肌肉科技',
                        readCount:'7684',
                        likeCount:'54y'
                    },
                    {
                        name:'付款',
                        readCount:'6u6',
                        likeCount:'95'
                    },
                    {
                        name:'563',
                        readCount:'595',
                        likeCount:'86'
                    }
                ]
            }

        proc({
            templateId:'learned-template',
            containerId:'chinese',
            data:data.chineseInfo
        })
        proc({
            templateId:'learned-template',
            containerId:'math',
            data:data.mathInfo
        })
        proc({
            templateId:'learned-template',
            containerId:'english',
            data:data.englishInfo
        })

		subjectTab();//课程选项卡
        })
	</script>
</body>
</html>