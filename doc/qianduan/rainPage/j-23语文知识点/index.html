<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>语文-课程详情</title>
    <!-- 禁止拉伸和全屏设置 -->
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"
          id="viewport"/>
    <meta name="format-detection" content="telphone=no"/>

    <!-- 引入样式表 -->
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- 引入js -->
    <script type="text/javascript" src="../../js/zepto.min.js"></script>
    <script type="text/javascript" src="../../js/touch.js"></script>
    <script type="text/javascript" src="../../js/basic.js"></script>
    <script type="text/javascript" src="../../js/selector.js"></script>
</head>
<body>
<!-- 弹窗开始 -->
<div class="tan" style="display:none;"></div>
<div class="window1" style="display:none;"><!-- 游客弹窗 -->
    <a class="windowClose" href="#"></a>
    <div class="win_neir">
        <p class="neir_ptxt">成为会员才可继续观看视频哟！成为会员才可继续观看视频哟！</p>
        <p class="neir_pBtn">
            <a class="p_btn btn01" href="#">注册会员</a>
            <a class="p_btn btn02" href="#">再见</a>
        </p>
    </div>
</div>
<div class="window1" style="display:none;"><!-- 会员弹窗 -->
    <div class="win_neir">
        <p class="neir_ptxt">您的卡片已过期，请重新购买！</p>
        <p class="neir_pBtn">
            <a class="p_btn btn01" href="#">购买</a>
            <a class="p_btn btn02" href="#">再见</a>
        </p>
    </div>
</div>
<div class="window1" style="display:none;"><!-- 会员弹窗 -->
    <div class="win_neir">
        <p class="neir_ptxt">您的卡片只可观看***，<br>观看其他内容请购买相应卡片！</p>
        <p class="neir_pBtn">
            <a class="p_btn btn01" href="#">购买</a>
            <a class="p_btn btn02" href="#">再见</a>
        </p>
    </div>
</div>
<div class="window1" style="display:none;"><!-- 会员弹窗 -->
    <div class="win_neir">
        <p class="neir_ptxt">还剩24雨点不够观看啦，请充值！</p>
        <p class="neir_pBtn">
            <a class="p_btn btn01" href="#">充值</a>
            <a class="p_btn btn02" href="#">再见</a>
        </p>
    </div>
</div>
<div class="window1" style="display:none;"><!-- 游客弹窗 -->
    <div class="win_neir">
        <p class="neir_ptxt">雨点所剩不多，请尽快充值哦！</p>
        <p class="neir_pBtn">
            <a class="p_btn btn01" href="#">充值</a>
            <a class="p_btn btn02" href="#">再见</a>
        </p>
    </div>
</div>
<!-- 弹窗结束 -->


<div class="wrap">
    <h3 class="head_h3" id="title"></h3>
    <div class="rain-main">
        <div class="biaoti_div">
            <span class="biti_span">选文赏析</span>
        </div>
        <div class="mulu_div youKuang" id="origin"></div>
        <div>
            <div class="mulu_div" id="content"></div>
            <div class="mulu_div" id="video"></div>
        </div>
        <div class="biaoti_div">
            <span class="biti_chuagun">闯关练习</span>
        </div>
        <div class="mulu_div lixiKu">
            <ul id="problem" class="mld_xiaoUl"></ul>
        </div>
        <div class="mulu_div" id="interaction"></div>
    </div>
    <div class="mulu_bottom">
        <div class="muluBn_top">
            <a class="mulu_botBtn" href="#">写留言</a>
        </div>
        <span id="comments"></span>
    </div>
</div>
<!--模板-->
<template id="title-template">
    <h1>${title}</h1>
</template>
<template id="origin-template">
    <p class="mulu_dp">${content}<span>${source}</span></p>
</template>
<template id="content-text-template">
    <p class="mulu_dp">${content}</p>
</template>
<template id="content-img-template">
        <span>
        <img class="muld_images" src="${imgHref}" alt="${description}">
        </span>
</template>
<template id="video-template">
        <span>
           <a href="${href}"> <img src="${coverHref}" alt="${coverDescription}"/></a>
            <!--<video src=""></video>-->
        </span>

</template>
<template id="problem-template">
    <li class="mld_Ulli">
        <div>
            <img class="mld_liImg" src="${href}" alt="${description}">${title}
        </div>
        <ul class="mld_daanUl" data-ext-point="options"></ul>
    </li>

</template>
<template id="problem-option-template">
    <li class="mld_daanLi">
        <span class="daan_quan">${name}</span>
        <input type="radio" id="daan_s3A" class="daana" name="daan3">
        <label for="daan_s3A">${option}</label>
    </li>
</template>
<template id="interaction-template">
    <div>
        <ul class="ul01_flet">
            <li class="ul01_fli">阅读<span class="ul01_count">${readCount}</span></li>
            <li><img class="ul01_imgzan" src="img/zan.png" alt=""><span class="ul01_count">${likeCount}</span></li>
        </ul>
        <ul class="ul01_riht">
            <li class="ul01_fli"><a class="ul01_aBtn" href="${previous}">上一节课</a></li>
            <li><a class="ul01_aBtn" href="${next}">下一节课</a></li>
        </ul>
    </div>
</template>
<template id="comment-template">
    <ul class="muluBn_center">
        <li class="liuyan_li lion_01">
            <img src="${avatar}" alt="">
        </li>
        <li class="liuyan_li lion_02">
            <ul class="topUl">
                <li class="topUl_top">
                    <div class="litop_fleft">${name}</div>
                    <div class="litop_friht"><img class="ul01_imgzan" src="img/zan.png" alt=""><span class="ul01_count">${likeCount}</span>
                    </div>
                </li>
                <li class="topUl_center tcmar_top">
                    ${content}
                </li>
                <li class="topUl_bottom tcmar_top">
                    <div class="litop_fleft">${time}</div>
                </li>
            </ul>
        </li>
    </ul>
</template>

<!--script-->
<script>
    $(function () {

        $.get('api/subjects', function (ss) {
            subjects = ss
            for (let i = 0; i < subjects.length; ++i) {
                subjects[i].title = subjects[i].name + '学习|三味学堂'
                let filter = {
                    subjectId: subjects[i].id,
                    grade: 20
                }
                $.get('apiolumes?filter=' + JSON.stringify(filter), function (vs) {
                    subjects[i].low = vs
                })
                filter.grade = 21;
                $.get('apiolumes?filter=' + JSON.stringify(filter), function (vs) {
                    subjects[i].high = vs
                })
            }
        })

        let data = {
            title: '放荡不羁名垂青史的竹林七贤',
            origins: [
                {
                    content: '陈留阮籍、谯国嵇康、河内山涛，三人年皆相比，康年少亚之。预此契者：沛国刘伶、陈留阮咸、河内向秀、琅邪王戎。七人常集于竹林之下，肆意酣畅，故世谓“竹林七贤”。',
                    source: ' ——【南朝】刘义庆《世说新语·任诞》'
                },
                {
                    content: '刘伶恒纵酒放达，或脱衣裸形在屋中，人见讥之，伶曰：“我以天地为栋宇，屋室为裈衣，诸君何为入我裈中？”',
                    source: ' ——【南朝】刘义庆《世说新语·任诞》'
                }
            ],
            contents: [
                {
                    type: 'text',
                    content: '魏晋时期，是一个有太多动荡，太多危机的时期，长久的战乱，阴毒的政治，都使得离别、死亡成为太轻易的事，这些生离和死别，使得当时的知识分子们深刻地意识到生命的短暂和可贵，那么，如何在乱世中、在挣扎里，将生命活得珍重而绚烂呢？'
                },
                {
                    type: 'image',
                    imgHref: 'img/video1.png',
                    description: '竹林七贤魅力担当——嵇康'
                },
                {
                    type: 'text',
                    content: '魏晋的名士们身体力行地向我们展示了一种耀眼的答案：他们轻视礼教，率直放诞，清俊通脱，喝酒纵歌，崇尚老庄，超然物外，成为了那阴森时期最为清亮的一抹颜色，在历史上绽放出令人神往的辉光，于是，他们的风度便成了“魏晋风度”。'
                },
                {
                    type: 'text',
                    content: '说起魏晋风度，必须要提到魏晋风度的最佳言人，也就是竹林七贤。所谓竹林七贤，就是常常在聚集在竹林，一起喝酒纵歌的七个人，他们分别是阮籍、嵇康、山涛、刘伶、阮咸、向秀、王戎，他们都有着共同的特点，那就是不拘礼法、特立独行，当然也都非常非常的有才华。'
                },
                {
                    type: 'text',
                    content: '竹林七贤中，最具有人格魅力的，当属嵇康了吧！嵇康身材高大，仪容俊美，精通音律，文采卓然。这样优秀的一个人，不喜结交权贵，拒绝涉足官场，选择在竹林中打铁谋生，真是超然物外，不为世俗所拘呀！见到他的人都称赞他的气度：“萧萧肃肃，爽朗清举”。后来因为得罪了小人，而被定罪处死，在行刑之时，一个超级的震撼的场面出现了：三千太学生集体为嵇康请愿，请求赦免嵇康之罪，并让嵇康当他们的老师。唉，可惜统治者并没有答应太学生们的请求，仍要赴死的嵇康面色不变，取出一把琴，弹了一曲慷慨动人的《广陵散》，然后从容赴死，真是从生到死，都那么酷帅啊！'
                },
                {
                    type: 'text',
                    content: '竹林七贤中另一位名声赫赫的个性大咖，那便是阮籍了。阮籍有一个最最拿手的特技，那就是“青白眼”！阮籍不经常说话，却常常用眼睛来帮自己表态.'
                },
                {
                    type: 'image',
                    imgHref: 'img/video2.png',
                    description: '竹林七贤放荡之最——刘伶'
                },
                {
                    type: 'text',
                    content: '对待讨厌的人，就用白眼，对待喜欢的人，便用青眼。据说，阮籍的母亲去世后，嵇康的哥哥嵇喜前来致哀，而嵇喜是在朝为官的礼法之士，阮籍非常不喜欢他. 便当面赏他一个大大的白眼，而当嵇康带着酒、夹了琴登门时，阮籍立刻转白眼为青眼，亲热非常地迎了上去。阮籍的青白眼还真是好恶鲜明啊！'
                },
                {
                    type: 'text',
                    content: '在竹林七贤中，还有一位最最放诞、最最不羁的人，他就是刘伶！刘伶很丑，但很有性格，常常脱掉衣服，一丝不挂地在屋中饮酒，当有客人来访时，面对奇葩的刘伶，客人当然会嘲笑他的不雅之举，可是刘伶却对客人说：“天地就是我的房屋，而房屋就是我的衣裤，哎呀，你为什么跑到我的裤子里来啦？”真是极端的潇洒放达啊！'
                },
                {
                    type: 'image',
                    imgHref: 'img/video3.png',
                    description: '竹林七贤放荡之最——刘伶'
                },
                {
                    type: 'text',
                    content: '此外，七贤中的山涛，极重信义，向秀，妙解《庄子》，阮咸，精善琵琶，王戎，吝啬精明，也是各有各的独特，各有各的闪光亮点。总之，竹林七贤展示着潇洒超脱，诠释着魏晋风度，完全是中国历史上最最闪亮的组合之一呢！'
                }
            ],
            video: {
                href: '',
                coverHref: 'img/video3.png',
                coverDescription: '塞花飘客泪,边柳挂乡愁'
            },
            problems: [
                {
                    type: 'image',
                    href: 'img/danx.png',
                    title: '“萧萧肃肃，爽朗清举”是古人对谁的赞誉？',
                    options: [{name: 'A', option: '阮籍'}, {name: 'B', option: '嵇康'}, {
                        name: 'C',
                        option: '山涛'
                    }, {name: 'D', option: '阮咸'}]
                },
                {
                    type: 'image',
                    href: 'img/danx.png',
                    title: '以下哪些人被认为是“魏晋风度”的代表？',
                    options: [{name: 'A', option: '嵇喜'}, {name: 'B', option: '王戎'}, {
                        name: 'C',
                        option: '曹操'
                    }, {name: 'D', option: '阮籍'}]
                },
                {
                    type: 'image',
                    href: 'img/double.png',
                    title: '诸子百家中，最受“竹林七贤”喜欢的是谁？',
                    options: [{name: 'A', option: '庄子'}, {name: 'B', option: '孟子'}, {
                        name: 'C',
                        option: '孔子'
                    }, {name: 'D', option: '老子'}]
                }
            ],
            interaction: {
                readCount: 10000,
                likeCount: 3000,
                previous: '',
                next: ''
            },
            comments: [
                {
                    avatar: 'img/pict1.png',
                    name: '张三',
                    likeCount: 20,
                    content: '潇洒人生',
                    time: '一天前'
                },
                {
                    avatar: 'img/pict3.png',
                    name: '李四',
                    likeCount: 20,
                    content: '不知所谓',
                    time: '三天前'
                }
            ]
        }


        proc({
            templateId: 'title-template',
            data: data,
            containerId: 'title'
        })

        proc({
            templateId: 'origin-template',
            data: data.origins,
            containerId: 'origin'
        })
        proc({
            data: data.contents,
            containerId: 'content',
            alterTemplates: [
                {type: 'text', templateId: 'content-text-template'},
                {type: 'image', templateId: 'content-img-template'}
            ]
        })
        proc({
            templateId: 'video-template',
            data: data.video,
            containerId: 'video'
        })

        proc({
            templateId: 'problem-template',
            data: data.problems,
            containerId: 'problem',
            secondBind: {
                extPoint: 'options',
                dataFieldName: 'options',
                templateId: 'problem-option-template'
            }
        })

        proc({
            templateId: 'interaction-template',
            data: data.interaction,
            containerId: 'interaction'
        })

        proc({
            templateId: 'comment-template',
            data: data.comments,
            containerId: 'comments'
        })
    })
</script>
</body>
</html>